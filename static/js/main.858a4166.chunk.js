(this.webpackJsonphandwriting_ui=this.webpackJsonphandwriting_ui||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports=n(23)},,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),i=n(7),o=n(1),s=(n(4),function(t){var e,n=[],a=[],r=[],i=t.getContext("2d"),o=document.createElement("canvas"),s=o.getContext("2d");s.fillStyle="#000000";var c=function(t,e,i){n.push(t),a.push(e),r.push(i)},u=function(){i.clearRect(0,0,i.canvas.width,i.canvas.height);for(var t=0;t<n.length;++t)i.beginPath(),r[t]&&t?i.moveTo(n[t-1],a[t-1]):i.moveTo(n[t]-1,a[t]),i.lineTo(n[t],a[t]),i.closePath(),i.stroke();d()},d=function(){var e,n,a,r;return e=-112,n=896,a=-112,r=896,o.width=n-e,o.height=r-a,s.fillRect(0,0,o.width,o.height),s.drawImage(t,e,a,n-e,r-a,0,0,n-e,r-a),document.getElementById("input_img").src=o.toDataURL(),document.getElementById("result_box").style.display="block",o};return t.addEventListener("mousedown",(function(n){var a=n.pageX-t.offsetLeft,r=n.pageY-t.offsetTop;e=!0,c(a,r),u()})),t.addEventListener("mousemove",(function(n){if(e){var a=n.pageX-t.offsetLeft,r=n.pageY-t.offsetTop;c(a,r,!0),u()}})),t.addEventListener("mouseup",(function(t){e=!1})),t.addEventListener("mouseleave",(function(t){e=!1})),{tempCanvasEl:o,clearCanvas:function(){i.clearRect(0,0,784,784),n=[],a=[],r=[],d()}}}),c=function(){var t=document.getElementById("root"),e=document.createElement("canvas");e.setAttribute("width","".concat(784)),e.setAttribute("height","".concat(784)),e.setAttribute("id","canvas"),e.style.backgroundColor="#000000";var n=e.getContext("2d");n.strokeStyle="#FFFFFF",n.lineJoin="round",n.lineWidth=112,t.appendChild(e);var a=document.createElement("div");a.setAttribute("id","result_box");var r=document.createElement("img");r.setAttribute("id","input_img"),r.setAttribute("width","28"),r.setAttribute("height","28"),a.appendChild(r);var i=document.createElement("button");i.innerText="Clear Canvas",t.appendChild(i);for(var o=0;o<10;++o){var s=document.createElement("img");s.setAttribute("class","output-img"),s.setAttribute("width","56"),s.setAttribute("height","56"),a.appendChild(s)}return t.appendChild(a),{clearButtonEl:i,canvasEl:e}}(),u=c.clearButtonEl,d=c.canvasEl;Object(i.a)(r.a.mark((function t(){var e,n,a,c,l,p,m,h;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=function(){return(h=Object(i.a)(r.a.mark((function t(){var a,i,s,u,d,l,m,h;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.getElementsByClassName("output-img"),t.next=3,p(c);case 3:i=t.sent,s=0;case 5:if(!(s<a.length)){t.next=22;break}return(u=[0,0,0,0,0,0,0,0,0,0])[s]=1,t.next=10,e.predict([i,o.c([u])]);case 10:return d=t.sent,t.next=13,n.predict(d[2]);case 13:return l=t.sent,m=l.reshape([28,28]),h=document.createElement("canvas"),t.next=18,o.a.toPixels(m,h);case 18:a[s].src=h.toDataURL();case 19:++s,t.next=5;break;case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)},m=function(){return h.apply(this,arguments)},t.next=4,o.b("https://raw.githubusercontent.com/rdarbinyan/handwriting_learning/master/output/encoder.json/model.json");case 4:return e=t.sent,t.next=7,o.b("https://raw.githubusercontent.com/rdarbinyan/handwriting_learning/master/output/decoder.json/model.json");case 7:n=t.sent,a=s(d),c=a.tempCanvasEl,l=a.clearCanvas,u.addEventListener("click",l),p=function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.a.fromPixels(e).resizeNearestNeighbor([28,28]),a=document.createElement("canvas"),t.next=4,o.a.toPixels(n,a);case 4:return document.getElementById("input_img").src=a.toDataURL(),t.abrupt("return",o.a.fromPixels(e).resizeNearestNeighbor([28,28]).mean(2).toFloat().reshape([1,784]).div(255));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),setInterval(m,500);case 12:case"end":return t.stop()}}),t)})))()}],[[10,1,2]]]);
//# sourceMappingURL=main.858a4166.chunk.js.map